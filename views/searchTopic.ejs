<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/css/output.css" />
  </head>
  <body class="bg-zinc-900 text-white min-h-screen grid place-items-center">
   <div class="w-full max-w-3xl flex flex-col gap-8">
      
      <h1 class="text-amber-500 text-5xl sm:text-6xl font-extrabold text-center">
        Search 
        <% if (mode) { %>
            private
        <% } else { %>
            public
        <% } %>
        topics
      </h1>

      <form action="/topic/search" method="get" class="flex flex-col sm:flex-row gap-4 items-center justify-center">
        <input 
          type="text" 
          name="name" 
          placeholder="Enter topic name..." 
          class="w-full sm:w-auto flex-1 px-4 py-2 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-amber-500"
        >
        <input type="hidden" value="<%= mode %>" name="private">
        <button type="submit" 
         class="px-6 py-2 rounded-lg
         bg-amber-500 hover:bg-amber-600 
          hover:cursor-pointer font-semibold text-black transition-colors">
          Search
        </button>
      </form>

      <section aria-label="search results" class="flex flex-col gap-4 max-h-80 overflow-y-scroll">
        <% if (locals.searchResults) { %>
            <% if (searchResults.length > 0) { %>
            <% searchResults.forEach(result => { %>
                <a href="/topic/<%= result.id %>/<%= result.type %>" class="block">
                <ul class="bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-colors cursor-pointer">
                    <li class="font-bold text-lg text-amber-400"><%= result.name %></li>
                </ul>
                </a>
            <% }) %>
            <% } else { %>
            <p class="text-center italic text-gray-400">No results found</p>
            <% } %>
        <% } %>
    </section>

    </div>
  </body>
</html>
